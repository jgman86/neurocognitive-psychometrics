function bounds=CenteredText(screenparms,text,x,y,color)global ptb3% bounds=CenteredText(screenparms,text,x,y,color)% Displays a text centered on x, y,% returns the smallest rectangle enclosing the text% color does not need to be specified (default = black)%color codes: 1 = black, 2 = red, 3 = blue, 4 = green, all others = whiteif nargin < 5, color = 1; endif color == 1              c = screenparms.black;elseif color == 2,  c = screenparms.red;elseif color == 3,  c = screenparms.blue;elseif color == 4,  c = screenparms.green;else                c = screenparms.white;endif ptb3    [normBoundsRect, offsetBoundsRect] = Screen('TextBounds', screenparms.window, text);    width = normBoundsRect(1);    height = normBoundsRect(2); %Screen('TextSize', screenparms.window);else    width = screen(screenparms.window,'TextWidth',text);    height = Screen(screenparms.window,'TextSize');endX = x - width/2;    %? 4*3Y = y + height/2 ;  %DrawText faengt links unten anif ptb3%    Screen('TextSize', screenparms.window, expinfo.stimulussize);    Screen('TextFont', screenparms.window, screenparms.sansSerifFont);    DrawFormattedText(screenparms.window, text, X, Y, c);    Screen('Flip', screenparms.window);else    expinfo.stimulussize=expinfo.stimulussize;    Screen(screenparms.window,'DrawText',text, X, Y, c);endbounds = [X-1,Y+1,X+width+1,Y-1.5*height-1];  %add 1 on each side to cover text reliably, multiply height with 1.5 to cover lower loops of letters% Box = CenterRectOnPoint(bounds, X, Y);% SCREEN(screenparms.window,'FrameRect',screenparms.black, Box);